# server port
server.port=${SERVER_PORT}

# Azure client settings
azure.client.id=${AZURE_CLIENT_ID}
azure.client.secret=${AZURE_CLIENT_SECRET}
azure.client.tenant-id=${AZURE_TENANT_ID}
azure.client.aud.id=${AZURE_CLIENT_AUD_ID}
azure.client.aud.scope=api://${azure.client.aud.id}

# token endpoint; uses tenant id placeholder â€” ensure this file is populated with actual tenant id at runtime
azure.authority=https://login.microsoftonline.com/${azure.client.tenant-id}/oauth2/v2.0
azure.token-uri=${azure.authority}/token

# Resource server
spring.security.oauth2.resourceserver.jwt.issuer-uri=${AZURE_ISSUER_URI}

# Spring profile
spring.application.name=${SPRING_APPLICATION_NAME}

# Actuator / Health / Metrics
management.endpoints.web.base-path=/actuator
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when_authorized

# Graceful shutdown for container restart/scale
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=60s

# magi-core settings
magi.core.base-url=${MAGI_CORE_BASE_URL}
magi.core.use-dapr=${MAGI_CORE_USE_DAPR:false}
magi.core.dapr.app-id=${MAGI_CORE_DAPR_APP_ID:magi-core}

# Logging to console; level configurable by env LOG_LEVEL
logging.level.root=${LOG_LEVEL}
logging.level.jp.mappiekochi.sample.magisystem.bff=${LOG_LEVEL}
